import{a as z}from"./chunk-5PHQZ26D.js";import{a as N}from"./chunk-VLPMJNZY.js";import{e as R,f as F,g as T}from"./chunk-WXEOJOXS.js";import{i as k,l as L,n as A}from"./chunk-YHNLNYZ5.js";import{$a as P,Ea as _,Na as x,Z as f,Za as v,_ as b,_a as y,ab as s,bb as i,cb as r,db as g,hb as M,lb as d,mb as E,nb as I,ob as S,pb as O,qb as w,sa as C,ta as a,tb as c,ya as u,yb as h,zb as p}from"./chunk-T7VB2PCG.js";var D=["itemElem"],m=l=>({active:l}),Q=()=>({display:"none"}),V=()=>({});function $(l,t){if(l&1){let n=M();i(0,"img",10,0),d("click",function(){let o=f(n).$index,j=E();return b(j.selectProduct(o))}),r()}if(l&2){let n=t.$implicit;s("src",n.vector,C)}}var B=class l{constructor(t,n,e,o){this.route=t;this.router=n;this.zone=e;this.http=o}currentCategory="Luminarias de mesa";categories=z;products=[];ParamsSubscription;selectedIndex=-1;indicatorX=0;indicatorWidth=0;itemElems;ngOnInit(){let t=this.route.snapshot.paramMap.get("category");this.currentCategory=t||"Luminarias de mesa",this.ParamsSubscription=this.route.paramMap.subscribe(()=>{this.readParams()})}readParams(){this.route.paramMap.subscribe(t=>{let n=t.get("category");this.currentCategory=n??"Liminarias de mesa"}),this.http.getProducts({category:this.currentCategory}).subscribe({next:t=>{this.products=t,this.products=this.products.filter(e=>e.variants?e.variants.length>0:!1);let n=this.route.snapshot.queryParamMap.get("index");this.selectedIndex=n?this.products.findIndex(e=>e.id==n):-1},error:t=>{console.log(t)}})}ngAfterViewInit(){window.scrollTo(0,0),this.zone.onStable.subscribe(()=>{this.updateIndicator(),this.scrollToSelected()})}selectProduct(t){this.selectedIndex=t,this.updateIndicator(),this.router.navigate([`dashboard/${this.currentCategory}/${this.products[t].id}`])}updateIndicator(){if(this.selectedIndex<0)return;let t=this.itemElems.toArray()[this.selectedIndex].nativeElement;this.indicatorX=t.offsetLeft,this.indicatorWidth=t.offsetWidth}scrollToSelected(){let n=this.itemElems.toArray()[this.selectedIndex];n&&n.nativeElement.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}onCategorieChange(t){this.currentCategory=t,this.router.navigate([`dashboard/${t}`])}descoverMore(){this.router.navigate(["/dashboard/galery"])}static \u0275fac=function(n){return new(n||l)(u(R),u(T),u(x),u(N))};static \u0275cmp=_({type:l,selectors:[["app-prodct"]],viewQuery:function(n,e){if(n&1&&I(D,5),n&2){let o;S(o=O())&&(e.itemElems=o)}},decls:29,vars:22,consts:[["itemElem",""],[1,"product-container"],[1,"header"],[1,"cat-container"],[1,"cat-content"],[1,"button-chips","cat",3,"click","ngClass"],[1,"single-product-nav"],[1,"itemElement",3,"src"],[1,"base-bar"],[1,"indicator",3,"ngStyle"],[1,"itemElement",3,"click","src"]],template:function(n,e){n&1&&(i(0,"div",1)(1,"header",2)(2,"h2"),c(3,"Nuestras luminarias"),r(),i(4,"h3"),c(5,"L\xE1mparas disponibles"),r()(),i(6,"div",3)(7,"div",4)(8,"button",5),d("click",function(){return e.onCategorieChange(e.categories.tableLumin)}),i(9,"label"),c(10,"LUMINARIAS DE MESA"),r()(),i(11,"button",5),d("click",function(){return e.onCategorieChange(e.categories.wallLumin)}),i(12,"label"),c(13,"LUMINARIAS DE PARED"),r()(),i(14,"button",5),d("click",function(){return e.onCategorieChange(e.categories.footLumin)}),i(15,"label"),c(16,"LUMINARIAS DE PIE"),r()(),i(17,"button",5),d("click",function(){return e.onCategorieChange(e.categories.roofLumin)}),i(18,"label"),c(19,"LUMINARIAS DE TECHO"),r()(),i(20,"button",5),d("click",function(){return e.onCategorieChange(e.categories.lightBulb)}),i(21,"label"),c(22,"BOMBILLO"),r()()(),i(23,"div",6),y(24,$,2,1,"img",7,v),g(26,"div",8)(27,"div",9),r()(),g(28,"router-outlet"),r()),n&2&&(a(8),s("ngClass",p(10,m,e.currentCategory===e.categories.tableLumin)),a(3),s("ngClass",p(12,m,e.currentCategory===e.categories.wallLumin)),a(3),s("ngClass",p(14,m,e.currentCategory===e.categories.footLumin)),a(3),s("ngClass",p(16,m,e.currentCategory===e.categories.roofLumin)),a(3),s("ngClass",p(18,m,e.currentCategory===e.categories.lightBulb)),a(4),P(e.products),a(3),w("transform","translateX("+e.indicatorX+"px)")("width",e.indicatorWidth,"px"),s("ngStyle",e.selectedIndex<0?h(20,Q):h(21,V)))},dependencies:[F,A,k,L],styles:[".product-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-inline:80px;padding-block:96px;box-sizing:border-box}h2[_ngcontent-%COMP%]{color:var(--Brand-900, #175659);text-align:center;font-family:var(--montser-font);font-size:48px;font-style:normal;font-weight:600;line-height:60px;letter-spacing:-.96px;margin:0}h3[_ngcontent-%COMP%]{color:var(--Brand-700, #007981);text-align:center;font-family:var(--montser-font);font-size:20px;font-style:normal;font-weight:400;line-height:30px;margin:0}.cat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;padding:34px;box-sizing:border-box;border-radius:var(--Corner-Medium, 12px);background:var(--Gray-50, #FAFAFA);margin-block:64px;box-shadow:0 12px 16px -4px #0a0d1214,0 4px 6px -2px #0a0d1208}.cat-content[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;justify-content:center;overflow:auto}.cat-content[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.button-chips.cat[_ngcontent-%COMP%]{white-space:nowrap}.button-chips.cat[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex-shrink:0}.single-product-nav[_ngcontent-%COMP%]{display:flex;gap:57.6px;justify-content:center;align-items:baseline;overflow-inline:auto;position:relative;padding-bottom:5px;box-sizing:border-box}.base-bar[_ngcontent-%COMP%]{position:absolute;width:100%;height:.5px;background-color:#717680;bottom:5px;border-radius:3px}.single-product-nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}.indicator[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:50px;height:2px;background:var(--Brand-500, #279EA8);transition:transform .3s ease}.discover-header[_ngcontent-%COMP%]{display:flex;height:48px;gap:40px;margin-top:124px}.discover-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--Brand-800, #00666C);font-family:var(--montser-font);font-size:36px;font-style:normal;font-weight:600;line-height:44px;letter-spacing:-.72px;margin:0;flex:1;text-align:left}@media (max-width: 900px){.cat-container[_ngcontent-%COMP%]{padding:34px 12px}.cat-content[_ngcontent-%COMP%]{gap:8px;justify-content:left}.single-product-nav[_ngcontent-%COMP%]{justify-content:left}.product-container[_ngcontent-%COMP%]{padding:48px 16px}}@media (max-width: 550px){h2[_ngcontent-%COMP%]{font-size:30px;font-style:normal;font-weight:600;line-height:38px}h3[_ngcontent-%COMP%]{font-size:14px;font-style:normal;font-weight:400;line-height:20px}}"]})};export{B as Prodct};
