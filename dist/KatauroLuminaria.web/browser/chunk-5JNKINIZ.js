import{a as c}from"./chunk-VLPMJNZY.js";import{P as n,T as o,d as s,k as i}from"./chunk-T7VB2PCG.js";var l=class r{constructor(e){this.http=e}_currentUser=new i(null);currentUser$=this._currentUser.asObservable();userChecked=!1;logInUser(e){this._currentUser.next(e)}logUserByCredentials(e,t){return this.http.signIn({email:e,password:t})}logOutUser(){this.http.logOut().subscribe({next:e=>{console.log(e),this._currentUser.next(null),this.refreshUser()},error:e=>{console.log(e)}})}refreshUser(){return s(this,null,function*(){this.userChecked=!1,this.http.refreshUser().subscribe({next:e=>{this._currentUser.next(e),this.userChecked=!0},error:e=>{this._currentUser.next(null),console.log(e)}})})}isLogged(){return this.currentUser$!==null&&this.userChecked}static \u0275fac=function(t){return new(t||r)(o(c))};static \u0275prov=n({token:r,factory:r.\u0275fac,providedIn:"root"})};export{l as a};
